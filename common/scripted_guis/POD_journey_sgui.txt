
# Each journey needs 3 scripted GUIs:
# [name]_requirements: 2 triggers for the Journey sidebar window. is_shown for whether the Journey is visible, and is_valid for whether the Journey can be started
# [name]_on_end: effect gets called when the Journey reaches 100% planning progress. Need to set a destination here
# [name]_travel_phase: effect gets called when selecting "I'll start travelling right away" at the end of the planning phase.

# Notes:
# - [name]_on_end gets called EVERY TIME the ending event window opens. Make sure there are safeguards so its effects only ever get applied once. (check POD_journey_select_random_destination_effect for an example)
# - [name]_travel_phase doesn't actually need to involve travel, you can do anything you want, like triggering other events.

# #############################
# ##### GUI JOURNEY TYPES #####
# #############################

look_for_contracts_requirements = {
	scope = character
	is_shown = {
		# WIP: show once there's a decent pool of modded contracts
		# (no DLC lock since we won't use the vanilla LAAMP contracts anyway, they're too jank if taken by landed characters)
		always = no
	}
	is_valid = {
		POD_has_coterie_trigger = yes
	}
}

look_for_contracts_on_end = {
	scope = character
	effect = {
		# handled by POD_journey_planning_finished_effect
	}
}

look_for_contracts_travel_phase = {
	scope = character
	effect = {
		# handled by POD_journey_planning_finished_effect
	}
}

hunt_in_capital_requirements = {
	scope = character
	is_shown = { POD_is_vampire_trigger = yes }
	is_valid = { always = yes }
}

# This one only triggers if the player is currently blocked from starting a travel phase (e.g. when on a pilgrimage)
hunt_in_capital_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

hunt_in_capital_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_journey_maintenance.2
		}
	}
}

# Custom SGUI for POD_event_window_widget_hunt_in_capital
hunt_in_capital_confirm = {
	scope = character
	effect = {
		var:hunt_in_capital_selected_mortal = {
			save_scope_as = target
			add_character_flag = {
				flag = hunted_mortal
				days = 7
			}
		}
		root = { save_scope_as = use_widget } # janky way to display the widget
		trigger_event = POD_vamphunt.1
	}
}

fera_training_requirements = {
	scope = character
	is_shown = {
		OR = {
			POD_is_werewolf_trigger = yes
			POD_is_bastet_trigger = yes
		}
	}
	is_valid = {
		POD_has_coterie_members_trigger = yes
	}
}

fera_training_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

fera_training_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_fera_pack.1
		}
	}
}

fera_spirit_quest_requirements = {
	scope = character
	is_shown = {
		OR = {
			POD_is_werewolf_trigger = yes
			POD_is_bastet_trigger = yes
		}
	}
	is_valid = { always = yes }
}

fera_spirit_quest_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

fera_spirit_quest_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_fera_spirit_quest.1000
		}
	}
}

# GUI only
seek_knowledge_requirements = {
	scope = character
	is_shown = { POD_blocked_from_learning_trigger = no }
	is_valid = { always = yes }
}

seek_knowledge_on_end = {
	scope = character
	effect = {
		#
	}
}

seek_knowledge_travel_phase = {
	scope = character
	effect = {
		#
	}
}

seek_knowledge_true_faith_requirements = {
	scope = character
	is_shown = { always = no } # TODO
	is_valid = { always = yes }
}

seek_knowledge_true_faith_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "OR = { has_trait = truefaith has_trait = beatific }"
		}
	}
}

seek_knowledge_true_faith_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1 # TODO: different event?
		}
	}
}

seek_knowledge_animalism_requirements = {
	scope = character
	is_shown = { can_learn_animalism_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_animalism_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = animalismdiscipline"
		}
	}
}

seek_knowledge_animalism_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_auspex_requirements = {
	scope = character
	is_shown = { can_learn_auspex_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_auspex_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = auspexdiscipline"
		}
	}
}

seek_knowledge_auspex_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_celerity_requirements = {
	scope = character
	is_shown = { can_learn_celerity_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_celerity_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = celeritydiscipline"
		}
	}
}

seek_knowledge_celerity_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_dominate_requirements = {
	scope = character
	is_shown = { can_learn_dominate_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_dominate_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = dominatediscipline"
		}
	}
}

seek_knowledge_dominate_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_fortitude_requirements = {
	scope = character
	is_shown = { can_learn_fortitude_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_fortitude_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = fortitudediscipline"
		}
	}
}

seek_knowledge_fortitude_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_obfuscate_requirements = {
	scope = character
	is_shown = { can_learn_obfuscate_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_obfuscate_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = obfuscatediscipline"
		}
	}
}

seek_knowledge_obfuscate_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_potence_requirements = {
	scope = character
	is_shown = { can_learn_potence_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_potence_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = potencediscipline"
		}
	}
}

seek_knowledge_potence_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_presence_requirements = {
	scope = character
	is_shown = { can_learn_presence_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_presence_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = presencediscipline"
		}
	}
}

seek_knowledge_presence_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_protean_requirements = {
	scope = character
	is_shown = { can_learn_protean_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_protean_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = proteandiscipline"
		}
	}
}

seek_knowledge_protean_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_abombwe_requirements = {
	scope = character
	is_shown = { can_learn_abombwe_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_abombwe_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = abombwediscipline"
		}
	}
}

seek_knowledge_abombwe_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_bardo_requirements = {
	scope = character
	is_shown = { can_learn_bardo_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_bardo_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = bardodiscipline"
		}
	}
}

seek_knowledge_bardo_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_kai_requirements = {
	scope = character
	is_shown = { can_learn_kai_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_kai_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = kaidiscipline"
		}
	}
}

seek_knowledge_kai_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_rift_requirements = {
	scope = character
	is_shown = { can_learn_rift_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_rift_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = riftdiscipline"
		}
	}
}

seek_knowledge_rift_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

# seek_knowledge_bloodsorcery_requirements = {
# 	scope = character
# 	is_shown = { can_learn_bloodsorcery_trigger = yes }
# 	is_valid = { always = yes }
# }

# seek_knowledge_bloodsorcery_on_end = {
# 	scope = character
# 	effect = {
# 		POD_journey_select_teacher_destination_effect = {
# 			TRIGGER = "has_trait = bloodsorcerydiscipline"
# 		}
# 	}
# }

# seek_knowledge_bloodsorcery_travel_phase = {
# 	scope = character
# 	effect = {
# 		POD_journey_start_travel_phase = {
# 			EVENT = POD_seek_knowledge.1
# 		}
# 	}
# }

seek_knowledge_chimerstry_requirements = {
	scope = character
	is_shown = { can_learn_chimerstry_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_chimerstry_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chimerstrydiscipline"
		}
	}
}

seek_knowledge_chimerstry_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_daimonion_requirements = {
	scope = character
	is_shown = { can_learn_daimonion_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_daimonion_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = daimoniondiscipline"
		}
	}
}

seek_knowledge_daimonion_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_dementation_requirements = {
	scope = character
	is_shown = { can_learn_dementation_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_dementation_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = dementationdiscipline"
		}
	}
}

seek_knowledge_dementation_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_melpominee_requirements = {
	scope = character
	is_shown = { can_learn_melpominee_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_melpominee_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = melpomineediscipline"
		}
	}
}

seek_knowledge_melpominee_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_mytherceria_requirements = {
	scope = character
	is_shown = { can_learn_mytherceria_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_mytherceria_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = mytherceriadiscipline"
		}
	}
}

seek_knowledge_mytherceria_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_obtenebration_requirements = {
	scope = character
	is_shown = { can_learn_obtenebration_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_obtenebration_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = obtenebrationdiscipline"
		}
	}
}

seek_knowledge_obtenebration_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_quietus_requirements = {
	scope = character
	is_shown = { can_learn_quietus_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_quietus_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = quietusdiscipline"
		}
	}
}

seek_knowledge_quietus_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_serpentis_requirements = {
	scope = character
	is_shown = { can_learn_serpentis_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_serpentis_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = serpentisdiscipline"
		}
	}
}

seek_knowledge_serpentis_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_spiritus_requirements = {
	scope = character
	is_shown = { can_learn_spiritus_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_spiritus_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = spiritusdiscipline"
		}
	}
}

seek_knowledge_spiritus_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_temporis_requirements = {
	scope = character
	is_shown = { can_learn_temporis_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_temporis_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = temporisdiscipline"
		}
	}
}

seek_knowledge_temporis_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_valeren_requirements = {
	scope = character
	is_shown = { can_learn_valeren_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_valeren_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = valerendiscipline"
		}
	}
}

seek_knowledge_valeren_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_vicissitude_requirements = {
	scope = character
	is_shown = { can_learn_vicissitude_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_vicissitude_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = vicissitudediscipline"
		}
	}
}

seek_knowledge_vicissitude_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_visceratika_requirements = {
	scope = character
	is_shown = { can_learn_visceratika_trigger = yes }
	is_valid = {
		custom_tooltip = {
			text = seek_knowledge_visceratika_requirement
			POD_visceratika_available_trigger = yes
		}
	}
}

seek_knowledge_visceratika_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = visceratikadiscipline"
		}
	}
}

seek_knowledge_visceratika_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_giovanni_requirements = {
	scope = character
	is_shown = { can_learn_giovanni_necromancy_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_giovanni_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_giovanni_necromancy_trigger = yes"
		}
	}
}

seek_knowledge_giovanni_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_cappadocian_requirements = {
	scope = character
	is_shown = { can_learn_cappadocian_necromancy_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_cappadocian_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_cappadocian_necromancy_trigger = yes"
		}
	}
}

seek_knowledge_cappadocian_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_harbinger_requirements = {
	scope = character
	is_shown = { can_learn_harbinger_necromancy_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_harbinger_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_harbinger_necromancy_trigger = yes"
		}
	}
}

seek_knowledge_harbinger_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_lamia_requirements = {
	scope = character
	is_shown = { can_learn_lamia_necromancy_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_lamia_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_lamia_necromancy_trigger = yes"
		}
	}
}

seek_knowledge_lamia_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_impundulu_requirements = {
	scope = character
	is_shown = { can_learn_impundulu_necromancy_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_impundulu_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_impundulu_necromancy_trigger = yes"
		}
	}
}

seek_knowledge_impundulu_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_nagaraja_requirements = {
	scope = character
	is_shown = { can_learn_nagaraja_necromancy_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_nagaraja_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_nagaraja_necromancy_trigger = yes"
		}
	}
}

seek_knowledge_nagaraja_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_rosselini_requirements = {
	scope = character
	is_shown = { can_learn_rosselini_necromancy_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_rosselini_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_rosselini_necromancy_trigger = yes"
		}
	}
}

seek_knowledge_rosselini_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_chicanery_requirements = {
	scope = character
	is_shown = { can_learn_chicanery_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_chicanery_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chicanery"
		}
	}
}

seek_knowledge_chicanery_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_legerdemain_requirements = {
	scope = character
	is_shown = { can_learn_legerdemain_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_legerdemain_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = legerdemain"
		}
	}
}

seek_knowledge_legerdemain_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_primal_requirements = {
	scope = character
	is_shown = { can_learn_primal_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_primal_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = primal"
		}
	}
}

seek_knowledge_primal_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_soothsay_requirements = {
	scope = character
	is_shown = { can_learn_soothsay_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_soothsay_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = soothsay"
		}
	}
}

seek_knowledge_soothsay_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_wayfare_requirements = {
	scope = character
	is_shown = { can_learn_wayfare_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_wayfare_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = wayfare"
		}
	}
}

seek_knowledge_wayfare_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_aphrodesia_requirements = {
	scope = character
	is_shown = { can_learn_aphrodesia_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_aphrodesia_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = aphrodesia"
		}
	}
}

seek_knowledge_aphrodesia_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_kryos_requirements = {
	scope = character
	is_shown = { can_learn_kryos_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_kryos_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = kryos"
		}
	}
}

seek_knowledge_kryos_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_metamorphosis_requirements = {
	scope = character
	is_shown = { can_learn_metamorphosis_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_metamorphosis_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = metamorphosis"
		}
	}
}

seek_knowledge_metamorphosis_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_pyretics_requirements = {
	scope = character
	is_shown = { can_learn_pyretics_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_pyretics_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = pyretics"
		}
	}
}

seek_knowledge_pyretics_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_chronos_requirements = {
	scope = character
	is_shown = { can_learn_chronos_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_chronos_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chronos"
		}
	}
}

seek_knowledge_chronos_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_dream_craft_requirements = {
	scope = character
	is_shown = { can_learn_dream_craft_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_dream_craft_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = dream_craft"
		}
	}
}

seek_knowledge_dream_craft_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_naming_requirements = {
	scope = character
	is_shown = { can_learn_naming_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_naming_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = naming"
		}
	}
}

seek_knowledge_naming_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_sovereign_requirements = {
	scope = character
	is_shown = { can_learn_sovereign_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_sovereign_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = sovereign"
		}
	}
}

seek_knowledge_sovereign_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_infusion_requirements = {
	scope = character
	is_shown = { can_learn_infusion_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_infusion_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = infusion"
		}
	}
}

seek_knowledge_infusion_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_tale_craft_requirements = {
	scope = character
	is_shown = { can_learn_tale_craft_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_tale_craft_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = tale_craft"
		}
	}
}

seek_knowledge_tale_craft_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_aquis_requirements = {
	scope = character
	is_shown = { can_learn_aquis_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_aquis_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = aquis"
		}
	}
}

seek_knowledge_aquis_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_petros_requirements = {
	scope = character
	is_shown = { can_learn_petros_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_petros_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = petros"
		}
	}
}

seek_knowledge_petros_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_pyros_requirements = {
	scope = character
	is_shown = { can_learn_pyros_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_pyros_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = pyros"
		}
	}
}

seek_knowledge_pyros_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_stratus_requirements = {
	scope = character
	is_shown = { can_learn_stratus_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_stratus_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = stratus"
		}
	}
}

seek_knowledge_stratus_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_verdage_requirements = {
	scope = character
	is_shown = { can_learn_verdage_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_verdage_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = verdage"
		}
	}
}

seek_knowledge_verdage_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_di_tan_requirements = {
	scope = character
	is_shown = { can_learn_di_tan_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_di_tan_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = di_tan"
		}
	}
}

seek_knowledge_di_tan_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_hou_tan_requirements = {
	scope = character
	is_shown = { can_learn_hou_tan_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_hou_tan_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = hou_tan"
		}
	}
}

seek_knowledge_hou_tan_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_lin_tan_requirements = {
	scope = character
	is_shown = { can_learn_lin_tan_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_lin_tan_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = lin_tan"
		}
	}
}

seek_knowledge_lin_tan_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_shui_tan_requirements = {
	scope = character
	is_shown = { can_learn_shui_tan_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_shui_tan_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = shui_tan"
		}
	}
}

seek_knowledge_shui_tan_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_tieh_tan_requirements = {
	scope = character
	is_shown = { can_learn_tieh_tan_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_tieh_tan_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = tieh_tan"
		}
	}
}

seek_knowledge_tieh_tan_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_nei_tan_requirements = {
	scope = character
	is_shown = { can_learn_nei_tan_trigger = yes }
	is_valid = { 
		POD_seek_knowledge_fae_art_is_valid = yes
	}
}

seek_knowledge_nei_tan_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = nei_tan"
		}
	}
}

seek_knowledge_nei_tan_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_sorcery_requirements = {
	scope = character
	is_shown = { can_learn_sorcery_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_sorcery_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = sorcerer"
		}
	}
}

seek_knowledge_sorcery_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_psychic_requirements = {
	scope = character
	is_shown = { can_learn_psychic_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_psychic_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = psychic"
		}
	}
}

seek_knowledge_psychic_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_theurgy_requirements = {
	scope = character
	is_shown = { can_learn_theurgy_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_theurgy_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = theurgist"
		}
	}
}

seek_knowledge_theurgy_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_demonology_requirements = {
	scope = character
	is_shown = {
		is_demonologist_trigger = no
		NOT = { has_trait = demon }
		NOR = {
			POD_is_demonic_trigger = yes
			faith = { is_demon_worshipper_religion_trigger = yes }
		}
	}
	is_valid = {
		custom_tooltip = {
			text = seek_knowledge_demonology_requirement_date
			POD_bookmark_has_demons = yes
		}
	}
}

seek_knowledge_demonology_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = demonology"
		}
	}
}

seek_knowledge_demonology_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_demonology_baali_requirements = {
	scope = character
	is_shown = {
		is_demonologist_trigger = no
		NOT = { has_trait = demon }
		OR = {
			POD_is_demonic_trigger = yes
			faith = { is_demon_worshipper_religion_trigger = yes }
		}
	}
	is_valid = {
		custom_tooltip = {
			text = seek_knowledge_demonology_requirement_date
			POD_bookmark_has_demons = yes
		}
	}
}

seek_knowledge_demonology_baali_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = demonology"
		}
	}
}

seek_knowledge_demonology_baali_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}


# GUI only
realm_mastery_requirements = {
	scope = character
	is_shown = {
		OR = {
			has_POD_fae_blood_trigger = yes
			AND = {
				has_perk = renaming_the_hekau_perk
				has_trait_with_flag = fae_art
			}
		}
		NAND = {
			has_trait = realm_actor
			has_trait = realm_fae
			has_trait = realm_prop
			has_trait = realm_nature
			has_trait = realm_scene
			has_trait = realm_time
		}
		POD_blocked_from_learning_trigger = no
	}
	is_valid = {
		custom_tooltip = {
			text = realm_mastery_requirement_date
			POD_bookmark_has_fae_special_buildings = yes
		}
	}
}

realm_mastery_on_end = {
	scope = character
	effect = {
		#
	}
}

realm_mastery_travel_phase = {
	scope = character
	effect = {
		#
	}
}

realm_mastery_actor_requirements = {
	scope = character
	is_shown = {
		OR = {
			has_POD_fae_blood_trigger = yes
			AND = {
				has_perk = renaming_the_hekau_perk
				has_trait_with_flag = fae_art
			}
		}
		NOT = { has_trait = realm_actor }
	}
	is_valid = {
		custom_tooltip = {
			text = realm_mastery_requirement_date
			POD_bookmark_has_fae_special_buildings = yes
		}
		has_perk = realm_actor_4_perk
	}
}

realm_mastery_actor_on_end = {
	scope = character
	effect = {
		POD_journey_select_freehold_destination_effect = yes
	}
}

realm_mastery_actor_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_realm_mastery.1
		}
	}
}

realm_mastery_fae_requirements = {
	scope = character
	is_shown = {
		OR = {
			has_POD_fae_blood_trigger = yes
			AND = {
				has_perk = renaming_the_hekau_perk
				has_trait_with_flag = fae_art
			}
		}
		NOT = { has_trait = realm_fae }
	}
	is_valid = {
		custom_tooltip = {
			text = realm_mastery_requirement_date
			POD_bookmark_has_fae_special_buildings = yes
		}
		has_perk = realm_fae_4_perk
	}
}

realm_mastery_fae_on_end = {
	scope = character
	effect = {
		POD_journey_select_freehold_destination_effect = yes
	}
}

realm_mastery_fae_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_realm_mastery.1
		}
	}
}

realm_mastery_prop_requirements = {
	scope = character
	is_shown = {
		OR = {
			has_POD_fae_blood_trigger = yes
			AND = {
				has_perk = renaming_the_hekau_perk
				has_trait_with_flag = fae_art
			}
		}
		NOT = { has_trait = realm_prop }
	}
	is_valid = {
		custom_tooltip = {
			text = realm_mastery_requirement_date
			POD_bookmark_has_fae_special_buildings = yes
		}
		has_perk = realm_prop_4_perk
	}
}

realm_mastery_prop_on_end = {
	scope = character
	effect = {
		POD_journey_select_freehold_destination_effect = yes
	}
}

realm_mastery_prop_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_realm_mastery.1
		}
	}
}

realm_mastery_nature_requirements = {
	scope = character
	is_shown = {
		OR = {
			has_POD_fae_blood_trigger = yes
			AND = {
				has_perk = renaming_the_hekau_perk
				has_trait_with_flag = fae_art
			}
		}
		NOT = { has_trait = realm_nature }
	}
	is_valid = {
		custom_tooltip = {
			text = realm_mastery_requirement_date
			POD_bookmark_has_fae_special_buildings = yes
		}
		has_perk = realm_nature_4_perk
	}
}

realm_mastery_nature_on_end = {
	scope = character
	effect = {
		POD_journey_select_freehold_destination_effect = yes
	}
}

realm_mastery_nature_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_realm_mastery.1
		}
	}
}

realm_mastery_scene_requirements = {
	scope = character
	is_shown = {
		OR = {
			has_POD_fae_blood_trigger = yes
			AND = {
				has_perk = renaming_the_hekau_perk
				has_trait_with_flag = fae_art
			}
		}
		NOT = { has_trait = realm_scene }
	}
	is_valid = {
		custom_tooltip = {
			text = realm_mastery_requirement_date
			POD_bookmark_has_fae_special_buildings = yes
		}
		has_perk = realm_scene_4_perk
	}
}

realm_mastery_scene_on_end = {
	scope = character
	effect = {
		POD_journey_select_freehold_destination_effect = yes
	}
}

realm_mastery_scene_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_realm_mastery.1
		}
	}
}

realm_mastery_time_requirements = {
	scope = character
	is_shown = {
		OR = {
			has_POD_fae_blood_trigger = yes
			AND = {
				has_perk = renaming_the_hekau_perk
				has_trait_with_flag = fae_art
			}
		}
		NOT = { has_trait = realm_time }
	}
	is_valid = {
		custom_tooltip = {
			text = realm_mastery_requirement_date
			POD_bookmark_has_fae_special_buildings = yes
		}
		has_perk = realm_time_4_perk
	}
}

realm_mastery_time_on_end = {
	scope = character
	effect = {
		POD_journey_select_freehold_destination_effect = yes
	}
}

realm_mastery_time_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_realm_mastery.1
		}
	}
}


find_artifact_requirements = {
	scope = character
	is_shown = { always = no } # TODO
	#is_shown = { always = yes }
	is_valid = { always = yes }
}

find_artifact_on_end = {
	scope = character
	effect = {
		POD_journey_select_random_destination_effect = yes
	}
}

find_artifact_travel_phase = {
	scope = character
	effect = {
		# TODO: placeholder
		POD_journey_start_travel_phase = {
			EVENT = pod_vampire_flavor.1000
		}
	}
}


### Great Journeys

assemble_artifact_requirements = {
	scope = character
	is_shown = {
		POD_assemble_artifact_shown_trigger = yes
	}
	is_valid = {
		always = yes
	}
}

assemble_artifact_on_end = {
	scope = character
	effect = {
		POD_journey_select_random_destination_effect = yes
	}
}

assemble_artifact_travel_phase = {
	scope = character
	effect = {
		# TODO: placeholder
		POD_journey_start_travel_phase = {
			EVENT = pod_vampire_flavor.1000
		}
	}
}

golconda_1_requirements = {
	scope = character
	is_shown = {
		POD_golconda_1_shown_trigger = yes
	}
	is_valid = {
		always = yes
	}
}

golconda_1_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "POD_knows_about_golconda_trigger = yes"
		}
	}
}

golconda_1_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_golconda_journey.1
		}
	}
}

golconda_2_requirements = {
	scope = character
	is_shown = {
		POD_golconda_2_shown_trigger = yes
	}
	is_valid = {
		custom_tooltip = {
			text = golconda_2_trigger
			NOT = {
				any_maa_regiment = {
					POD_maa_regiment_requires_heinous_acts = yes
				}
			}
		}
	}
}

golconda_2_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

golconda_2_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_golconda_journey.20
		}
	}
}

golconda_3_requirements = {
	scope = character
	is_shown = {
		POD_golconda_3_shown_trigger = yes
	}
	is_valid = {
		always = yes
	}
}

golconda_3_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

golconda_3_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_golconda_journey.100
		}
	}
}

provoke_vatican_requirements = {
	scope = character
	is_shown = {
		POD_provoke_vatican_shown_trigger = yes
	}
	is_valid = {
		trigger_if = {
			limit = {
				has_game_rule = journey_provoke_vatican_default
				POD_is_roguelike_mode_enabled_trigger = no
			}
			has_trait = arrogant
			capital_province = { geographical_region = world_europe }
			custom_tooltip = {
				text = provoke_vatican_religion_tt
				faith = {
					is_POD_christian_religion_trigger = yes
				}
			}
		}
		trigger_else = {
			always = yes
		}
	}
}

provoke_vatican_on_end = {
	scope = character
	effect = {
		var:current_journey = {
			set_variable = {
				name = destination
				value = title:b_roma.title_province
			}
		}
	}
}

provoke_vatican_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_provoke_vatican.1
		}
	}
}

provoke_vatican_caelestius_requirements = {
	scope = character
	is_shown = {
		POD_provoke_vatican_caelestius_shown_trigger = yes
	}
	is_valid = {
		always = yes
	}
}

provoke_vatican_caelestius_on_end = {
	scope = character
	effect = {
		var:current_journey = {
			set_variable = {
				name = destination
				value = title:b_roma.title_province
			}
		}
	}
}

provoke_vatican_caelestius_travel_phase = {
	scope = character
	effect = {
		# TODO: placeholder
		POD_journey_start_travel_phase = {
			EVENT = POD_provoke_vatican.1
		}
	}
}

siochain_1_requirements = {
	is_shown = { POD_siochain_1_shown_trigger = yes }
	is_valid = {
		has_perk = realm_fae_5_perk 
	}
}

siochain_1_on_end = {
    scope = character
    effect = { POD_journey_select_capital_destination_effect = yes }
}
siochain_1_travel_phase = {
    scope = character
    effect = { POD_journey_start_travel_phase = { EVENT = POD_siochain.1 } }
}


siochain_2_requirements = {
	is_shown = { POD_siochain_2_shown_trigger = yes }
	is_valid = { always = yes }
}

siochain_2_on_end = {
    scope = character
    effect = { POD_journey_select_capital_destination_effect = yes }
}
siochain_2_travel_phase = {
    scope = character
    effect = { POD_journey_start_travel_phase = { EVENT = POD_siochain.2 } }
}


siochain_3_requirements = {
	is_shown = { POD_siochain_3_shown_trigger = yes }
	is_valid = { NOT = { has_character_modifier = POD_disconected_from_dreaming } }
}

siochain_3_on_end = {
    scope = character
    effect = { POD_journey_select_capital_destination_effect = yes }
}
siochain_3_travel_phase = {
    scope = character
    effect = { POD_journey_start_travel_phase = { EVENT = POD_siochain.3 } }
}

azhi_dahaka_1_requirements = {
	scope = character
	is_shown = {
		POD_azhi_dahaka_shown_trigger = yes
	}
	is_valid = {
		always = yes
	}
}

azhi_dahaka_1_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

azhi_dahaka_1_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_azhi_dahaka_journey.1
		}
	}
}

azhi_dahaka_2_requirements = {
	scope = character
	is_shown = {
		POD_azhi_dahaka_shown_trigger = yes
	}
	is_valid = {
		always = yes
	}
}

azhi_dahaka_2_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

azhi_dahaka_2_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_azhi_dahaka_journey.2
		}
	}
}

# ##################################
# ##### TARGETED JOURNEY TYPES #####
# ##################################

hunt_target_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

hunt_target_on_end = {
	scope = character
	effect = {
		POD_journey_select_target_destination_effect = yes
	}
}

hunt_target_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_vamphunt.7000
		}
	}
}

wake_from_torpor_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

wake_from_torpor_on_end = {
	scope = character
	effect = {
		POD_journey_select_target_destination_effect = yes
	}
}

wake_from_torpor_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_awaketorpor.7000
		}
	}
}

assault_lair_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

assault_lair_on_end = {
	scope = character
	effect = {
		POD_journey_select_target_destination_effect = yes
	}
}

assault_lair_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_inquihunt.7000
		}
	}
}

gold_heist_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

gold_heist_on_end = {
	scope = character
	effect = {
		POD_journey_select_target_capital_effect = yes
	}
}

gold_heist_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_heists.2
		}
	}
}

unstoppable_warrior_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

unstoppable_warrior_on_end = {
	scope = character
	effect = {
		POD_journey_select_target_destination_effect = yes
	}
}

unstoppable_warrior_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_umbra_expedition.302
		}
	}
}

ritual_blood_sorcery_casting_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

ritual_blood_sorcery_casting_on_end = {
	scope = character
	effect = {
		if = { limit = { NOT = { var:current_journey = { has_variable = destination } } }
			POD_journey_select_target_destination_effect = yes
		}
	}
}

ritual_blood_sorcery_casting_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_bloodmagic_events.3
		}
	}
}

ritual_necromagic_casting_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

ritual_necromagic_casting_on_end = {
	scope = character
	effect = {
		if = { limit = { NOT = { var:current_journey = { has_variable = destination } } }
			POD_journey_select_target_destination_effect = yes
		}
	}
}

ritual_necromagic_casting_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_bloodmagic_events.3
		}
	}
}

learn_true_name_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

learn_true_name_on_end = {
	scope = character
	effect = {
		POD_journey_select_target_destination_effect = yes
	}
}

learn_true_name_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_learn_true_name.1
		}
	}
}

demon_temp_journey_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

demon_temp_journey_on_end = {
	scope = character
	effect = {
		POD_journey_select_target_destination_effect = yes
	}
}

demon_temp_journey_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_demon_temp_journey.1
		}
	}
}

fulfill_passion_hatred_requirements = {
	scope = character
	is_shown = {
        POD_is_wraith_trigger = yes
        POD_has_fetter_of_type = { TYPE = hatred }
    }
	is_valid = { always = yes }
}

fulfill_passion_hatred_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

fulfill_passion_hatred_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_wraith_passions.100
		}
	}
}

fulfill_passion_love_requirements = {
	scope = character
	is_shown = {
        POD_is_wraith_trigger = yes
        POD_has_fetter_of_type = { TYPE = love }
    }
	is_valid = { always = yes }
}

fulfill_passion_love_on_end = {
	scope = character
	effect = {
		POD_journey_select_capital_destination_effect = yes
	}
}

fulfill_passion_love_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_wraith_passions.200
		}
	}
}


# ###############################
# ##### TRAIT JOURNEY TYPES #####
# ###############################

# These are handled by POD_journey_planning_finished_effect (until it gets its overdue refactor)

study_trait_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

study_trait_on_end = {
	scope = character
	effect = {}
}

study_trait_travel_phase = {
	scope = character
	effect = {}
}

study_true_name_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

study_true_name_on_end = {
	scope = character
	effect = {}
}

study_true_name_travel_phase = {
	scope = character
	effect = {}
}

study_anatomy_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

study_anatomy_on_end = {
	scope = character
	effect = {}
}

study_anatomy_travel_phase = {
	scope = character
	effect = {}
}


# ##################################
# ##### ARTIFACT JOURNEY TYPES #####
# ##################################

artifact_heist_requirements = {
	scope = character
	is_shown = { always = yes }
	is_valid = { always = yes }
}

artifact_heist_on_end = {
	scope = character
	effect = {
		POD_journey_select_artifact_owner_capital_effect = yes
	}
}

artifact_heist_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_heists.1
		}
	}
}

# ##################################
# ####### LORE JOURNEY TYPES #######
# ##################################
seek_knowledge_thaumaturgy_requirements = {
	scope = character
	is_shown = { can_learn_thaumaturgy_bloodmagic_trigger = yes }
	is_valid = { can_learn_thaumaturgy_bloodmagic_trigger_visible = yes }
}

seek_knowledge_thaumaturgy_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_thaumaturgy_bloodmagic_trigger = yes"
		}
	}
}

seek_knowledge_thaumaturgy_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_dur_an_ki_requirements = {
	scope = character
	is_shown = { can_learn_dur_an_ki_bloodmagic_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_dur_an_ki_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_dur_an_ki_bloodmagic_trigger = yes"
		}
	}
}

seek_knowledge_dur_an_ki_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_akhu_requirements = {
	scope = character
	is_shown = { can_learn_akhu_bloodmagic_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_akhu_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_akhu_bloodmagic_trigger = yes"
		}
	}
}

seek_knowledge_akhu_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_sadhana_requirements = {
	scope = character
	is_shown = {
		can_learn_sadhana_bloodmagic_trigger = yes
	}
	is_valid = { always = yes }
}

seek_knowledge_sadhana_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_sadhana_bloodmagic_trigger = yes"
		}
	}
}

seek_knowledge_sadhana_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_koldunic_requirements = {
	scope = character
	is_shown = { can_learn_koldunic_bloodmagic_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_koldunic_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_koldunic_bloodmagic_trigger = yes"
		}
	}
}

seek_knowledge_koldunic_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_abyssal_mysticism_requirements = {
	scope = character
	is_shown = { can_learn_abyssal_mysticism_bloodmagic_trigger = yes }
	is_valid = { always = yes }
}

seek_knowledge_abyssal_mysticism_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_abyssal_mysticism_bloodmagic_trigger = yes"
		}
	}
}

seek_knowledge_abyssal_mysticism_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}


seek_knowledge_sihr_requirements = {
	scope = character
	is_shown = { can_learn_sihr_bloodmagic_trigger = yes }
	is_valid = { can_learn_sihr_bloodmagic_trigger_visible = yes }
}

seek_knowledge_sihr_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_sihr_bloodmagic_trigger = yes"
		}
	}
}

seek_knowledge_sihr_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}








hunt_for_sargon_codex_shard_requirements = {
	scope = character
	is_shown = { 
		is_target_in_variable_list = { name = unavailable_unique_decisions target = flag:quest_for_sargon_codex_objective_decision } 
		trigger_if = { limit = { has_variable = shard_understood } NOT = { var:shard_understood >= 13 } }
		trigger_if = { limit = { exists = global_var:cappadocius_delivered_shards } NOT = { global_var:cappadocius_delivered_shards >= 13 } }
		
	}
	is_valid = { 
		custom_tooltip = {
			text = hunt_for_sargon_codex_shard_isvalid
			NOT = {
				AND = {
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_lilith_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_enoch_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_sphere_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_diplomacy_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_martial_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_stewardship_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_intrigue_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_learning_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_genesis_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_caine_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_soul_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_body_modifier } }
					NOT = { any_artifact = { count = 1 has_artifact_modifier = sargon_codex_shard_seth_modifier } }
				}
			}
		}
	}
}
hunt_for_sargon_codex_shard_on_end = {
	scope = character
	effect = {
		POD_journey_select_random_destination_effect = yes
	}
}
hunt_for_sargon_codex_shard_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_hunt_for_sargon_codex_shard.1
		}
	}
}

seek_knowledge_arcanoi_argos_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_argos_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_argos_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.1 } } }

seek_knowledge_arcanoi_castigate_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_castigate_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_castigate_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.2 } } }

seek_knowledge_arcanoi_embody_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_embody_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_embody_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.3 } } }

seek_knowledge_arcanoi_fatalism_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_fatalism_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_fatalism_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.4 } } }

seek_knowledge_arcanoi_flux_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_flux_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_flux_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.5 } } }

seek_knowledge_arcanoi_inhabit_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_inhabit_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_inhabit_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.6 } } }

seek_knowledge_arcanoi_intimation_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_intimation_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_intimation_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.7 } } }

seek_knowledge_arcanoi_keening_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_keening_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_keening_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.8 } } }

seek_knowledge_arcanoi_lifeweb_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_lifeweb_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_lifeweb_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.9 } } }

seek_knowledge_arcanoi_mnemosynis_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_mnemosynis_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_mnemosynis_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.10 } } }

seek_knowledge_arcanoi_moliate_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_moliate_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_moliate_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.11 } } }

seek_knowledge_arcanoi_outrage_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_outrage_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_outrage_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.12 } } }

seek_knowledge_arcanoi_pandemonium_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_pandemonium_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_pandemonium_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.13 } } }

seek_knowledge_arcanoi_phantasm_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_phantasm_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_phantasm_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.14 } } }

seek_knowledge_arcanoi_puppetry_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_puppetry_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_puppetry_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.15 } } }

seek_knowledge_arcanoi_usury_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_arcanoi_usury_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
seek_knowledge_arcanoi_usury_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_wraith_arcanoi_learning_events.16 } } }


# Sorcery
sorcery_legendary_studying_requirements = {
	scope = character
	is_shown = { has_game_rule = pod_sorcery_6th_perk_requirements_unlockable is_sorcerer_trigger = yes }
	is_valid = { always = yes }
}
sorcery_legendary_studying_on_end = { scope = character effect = { } }
sorcery_legendary_studying_travel_phase = { scope = character effect = { } }

### PATHS ###
sorcery_legendary_studying_alchemy_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_alchemy_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_alchemy_5_perk }
}
sorcery_legendary_studying_alchemy_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_alchemy_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.1 } } }

sorcery_legendary_studying_conjuration_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_conjuration_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_conjuration_5_perk }
}
sorcery_legendary_studying_conjuration_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_conjuration_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.2 } } }

sorcery_legendary_studying_conveyance_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_conveyance_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_conveyance_5_perk }
}
sorcery_legendary_studying_conveyance_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_conveyance_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.3 } } }

sorcery_legendary_studying_divination_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_divination_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_divination_5_perk }
}
sorcery_legendary_studying_divination_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_divination_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.4 } } }

sorcery_legendary_studying_enchantment_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_enchantment_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_enchantment_5_perk }
}
sorcery_legendary_studying_enchantment_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_enchantment_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.5 } } }

sorcery_legendary_studying_ephemera_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_ephemera_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_ephemera_5_perk }
}
sorcery_legendary_studying_ephemera_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_ephemera_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.6 } } }

sorcery_legendary_studying_fascination_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_fascination_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_fascination_5_perk }
}
sorcery_legendary_studying_fascination_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_fascination_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.7 } } }

sorcery_legendary_studying_fortune_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_fortune_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_fortune_5_perk }
}
sorcery_legendary_studying_fortune_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_fortune_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.8 } } }

sorcery_legendary_studying_healing_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_healing_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_healing_5_perk }
}
sorcery_legendary_studying_healing_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_healing_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.9 } } }

sorcery_legendary_studying_hellfire_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_hellfire_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_hellfire_5_perk }
}
sorcery_legendary_studying_hellfire_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_hellfire_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.10 } } }

sorcery_legendary_studying_illusion_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_illusion_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_illusion_5_perk }
}
sorcery_legendary_studying_illusion_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_illusion_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.11 } } }

sorcery_legendary_studying_necromancy_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_necromancy_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_necromancy_5_perk }
}
sorcery_legendary_studying_necromancy_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_necromancy_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.12 } } }

sorcery_legendary_studying_oneiromancy_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_oneiromancy_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_oneiromancy_5_perk }
}
sorcery_legendary_studying_oneiromancy_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_oneiromancy_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.13 } } }

sorcery_legendary_studying_quintessence_manipulation_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_quintessence_manipulation_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_quintessence_manipulation_5_perk }
}
sorcery_legendary_studying_quintessence_manipulation_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_quintessence_manipulation_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.14 } } }

sorcery_legendary_studying_shadows_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_shadows_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_shadows_5_perk }
}
sorcery_legendary_studying_shadows_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_shadows_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.15 } } }

sorcery_legendary_studying_shapeshifting_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_shapeshifting_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_shapeshifting_5_perk }
}
sorcery_legendary_studying_shapeshifting_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_shapeshifting_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.16 } } }

sorcery_legendary_studying_weather_control_requirements = {
	scope = character
	is_shown = { NOT = { has_character_flag = numina_weather_control_6_perk_flag_requirement } }
	is_valid = { has_perk = numina_weather_control_5_perk }
}
sorcery_legendary_studying_weather_control_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
sorcery_legendary_studying_weather_control_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_sorcery_legendary_studying.17 } } }


shih_training_knowledge_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
shih_training_knowledge_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
shih_training_knowledge_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_shih_events.00001 } } }

shih_training_technique_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
shih_training_technique_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
shih_training_technique_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_shih_events.00002 } } }

shih_training_body_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
shih_training_body_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
shih_training_body_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_shih_events.00003 } } }

shih_training_meditation_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
shih_training_meditation_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
shih_training_meditation_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_shih_events.00004 } } }

shih_training_hunt_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
shih_training_hunt_on_end = { scope = character effect = { POD_journey_select_capital_destination_effect = yes } }
shih_training_hunt_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_shih_events.00005 } } }

# Lores
seek_knowledge_lore_of_herald_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_lore_of_herald_on_end = { scope = character effect = { POD_journey_select_target_destination_effect = yes } }
seek_knowledge_lore_of_herald_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_demon_lore_learning_events.1 } } }

seek_knowledge_lore_of_life_bringer_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_lore_of_life_bringer_on_end = { scope = character effect = { POD_journey_select_target_destination_effect = yes } }
seek_knowledge_lore_of_life_bringer_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_demon_lore_learning_events.2 } } }

seek_knowledge_lore_of_creation_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_lore_of_creation_on_end = { scope = character effect = { POD_journey_select_target_destination_effect = yes } }
seek_knowledge_lore_of_creation_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_demon_lore_learning_events.3 } } }

seek_knowledge_lore_of_seer_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_lore_of_seer_on_end = { scope = character effect = { POD_journey_select_target_destination_effect = yes } }
seek_knowledge_lore_of_seer_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_demon_lore_learning_events.4 } } }

seek_knowledge_lore_of_beauty_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_lore_of_beauty_on_end = { scope = character effect = { POD_journey_select_target_destination_effect = yes } }
seek_knowledge_lore_of_beauty_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_demon_lore_learning_events.5 } } }

seek_knowledge_lore_of_living_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_lore_of_living_on_end = { scope = character effect = { POD_journey_select_target_destination_effect = yes } }
seek_knowledge_lore_of_living_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_demon_lore_learning_events.6 } } }

seek_knowledge_lore_of_ethereal_requirements = { scope = character is_shown = { always = no } is_valid = { always = yes } }
seek_knowledge_lore_of_ethereal_on_end = { scope = character effect = { POD_journey_select_target_destination_effect = yes } }
seek_knowledge_lore_of_ethereal_travel_phase = { scope = character effect = { POD_journey_start_travel_phase = { EVENT = POD_demon_lore_learning_events.7 } } }

study_true_name_journey_requirements = {
	scope = character
	is_shown = { POD_can_study_true_names_trigger = yes }
	is_valid = { POD_know_all_nonstandard_true_names_trigger = no }
}
study_true_name_trait_journey_requirements = {
	scope = character
	is_shown = { always = no }
	is_valid = { always = yes }
}

seek_knowledge_feng_shui_requirements = {
	scope = character
	is_shown = { 
		can_learn_chi_art_trigger = yes
		NOT = { has_trait = chi_art_feng_shui }
	}
	is_valid = { always = yes }
}
seek_knowledge_feng_shui_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chi_art_feng_shui"
		}
	}
}
seek_knowledge_feng_shui_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_obligation_requirements = {
	scope = character
	is_shown = { 
		can_learn_chi_art_trigger = yes
		NOT = { has_trait = chi_art_obligation }
	}
	is_valid = { always = yes }
}
seek_knowledge_obligation_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chi_art_obligation"
		}
	}
}
seek_knowledge_obligation_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_tapestry_requirements = {
	scope = character
	is_shown = { 
		can_learn_chi_art_trigger = yes
		NOT = { has_trait = chi_art_tapestry }
	}
	is_valid = { always = yes }
}
seek_knowledge_tapestry_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chi_art_tapestry"
		}
	}
}
seek_knowledge_tapestry_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_kiai_requirements = {
	scope = character
	is_shown = { 
		can_learn_chi_art_trigger = yes
		NOT = { has_trait = chi_art_kiai }
	}
	is_valid = { always = yes }
}
seek_knowledge_kiai_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chi_art_kiai"
		}
	}
}
seek_knowledge_kiai_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_prana_requirements = {
	scope = character
	is_shown = { 
		can_learn_chi_art_trigger = yes
		NOT = { has_trait = chi_art_prana }
	}
	is_valid = { always = yes }
}
seek_knowledge_prana_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chi_art_prana"
		}
	}
}
seek_knowledge_prana_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}

seek_knowledge_tzu_wei_requirements = {
	scope = character
	is_shown = { 
		can_learn_chi_art_trigger = yes
		NOT = { has_trait = chi_art_tzu_wei }
	}
	is_valid = { always = yes }
}
seek_knowledge_tzu_wei_on_end = {
	scope = character
	effect = {
		POD_journey_select_teacher_destination_effect = {
			TRIGGER = "has_trait = chi_art_tzu_wei"
		}
	}
}
seek_knowledge_tzu_wei_travel_phase = {
	scope = character
	effect = {
		POD_journey_start_travel_phase = {
			EVENT = POD_seek_knowledge.1
		}
	}
}